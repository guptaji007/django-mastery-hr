{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HR Agency |{% block title %} Home {% endblock title %}</title>
    <!-- Bootstrap 5.3 CSS CDN-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <!-- FontAwesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
    <!-- Logo -->
    <link rel="shortcut icon" href="{% static 'images/logo.ico' %}" type="image/x-icon">
    <!-- Static CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>
    <!-- Start Wrapper -->
    <div class="wrapper">
        <div id="preload"></div>
        {% block bg-image %}
        <style>
            body {
                background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3)), url('/static/images/office.jpg');
                background-position: center 0px;
                background-repeat: no-repeat;
                background-attachment: fixed;
                background-size: cover;
            }
        </style>
        <style>
            .form-check-input:checked {
                background-color: #ffc107 !important;
                border: #ffc107 !important;
                box-shadow: 0 0 8px rgba(250, 190, 88, 1) !important;
            }

            .form-check-input {
                border: #ffc107 !important;
                box-shadow: 0 0 8px rgba(250, 190, 88, 1) !important;
            }

            .form-switch .form-check-input:focus {
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='grey'/%3e%3c/svg%3e");
            }

            /* Remove the blue focus on input and add yellow */
            .form-control:focus {
                border-color: #ffc107;
                box-shadow: none;
                -webkit-box-shadow: none;
            }

            .btn:focus, .btn-active {
                outline: none !important;
                box-shadow: none;
            }
        </style>
        {% endblock bg-image %}
        <!-- Start Navbar -->
        <header>
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <!-- FontAwesome + Title (Left Side) -->
                <div class="col-sm">
                    <a href="#" id="navbar-content" class="navbar-brand flex-grow-1">
                        {% block navbar-content %}
                        <i class="text-warning fas fa-chart-pie">&nbsp;&nbsp; HR Mastery</i>
                        {% endblock navbar-content %}
                    </a>
                </div>
                <!-- Link to Navigate -->
                {% block link %}
                    <a href="{% url 'home' %}" style="margin-right: 25px; font-size: 25px;" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                        <i class="text-light fas fa-bars"></i>
                    </a>
                {% endblock link %}
            </nav>
        </header>
        <!-- End Navbar -->

        <!-- Start OffCanvas Side -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasRightLabel">MENU</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <div class="d-grid gap-2">
                    {% block sidebar-links %}
                    <a href="{% url 'backend' %}" class="btn btn-warning">Login</a>
                    <a href="#" class="btn btn-secondary">FAQ</a>
                    <hr>
                    <a class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#popSupportModal">
                        <i class="fas fa-headset"></i>&nbsp;&nbsp; Support
                    </a>
                    {% endblock sidebar-links %}
                </div>
            </div>
        </div>
        <!-- End OffCanvas Side -->

        <!-- Page Content -->
        {% block content %}{% endblock content %}

        <!-- Includes Modals -->
        <!-- Forms Modal -->
        {% include 'modals/forms/formFrontend.html' %}
        {% include 'modals/forms/formBackend.html' %}
        {% include 'modals/forms/formFullstack.html' %}
        <!-- Others -->
        {% include 'modals/others/logout.html' %}
        {% include 'modals/others/msgForm.html' %}
        {% include 'modals/others/msgSupport.html' %}
        {% include 'modals/others/popSupport.html' %}
    </div>
    <!-- End Wrapper -->

    <!-- Start Footer -->
    <footer id="footer" class="bg-dark text-center text-lg-start" style="color: #fff;">
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            &copy; {% now 'Y' %} Copyright:
            <a href="#" class="text-center" style="text-decoration: none;">
                <span class="text-warning">www.hr-mastery.com</span>
            </a>
        </div>
    </footer>
    <!-- End Footer -->

    <!-- Success Message from Backend system -->
    {% for message in messages %}
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    {% if message.tags == "success" %}
    <script>
        var m = "{{ message }}";
        swal("Perfect !", m, "success");
    </script>
    {% endif %}
    {% endfor %}
    <!-- End Message from Backend system -->

    <!-- Message from Backend (Login Only) -->
    {% if form.errors %}
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <script>
            swal("Denied !", "Enter your data correctly.", "error");
        </script>
    {% endif %}

    <!-- Support Message (Pending request - Duplicated Calls) -->
    {% for message in messages %}
    {% if message.tags == "info" %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#msgSupportModal").modal('show');
        })
    </script>
    {% endif %}
    {% endfor %}

    <!-- Candidate Message (Duplicated Resume) -->
    {% for message in messages %}
    {% if message.tags == "error" %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#msgFormModal").modal('show');
        })
    </script>
    {% endif %}
    {% endfor %}

    <!-- Bootstrap 5.3 JS CDN-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>

    <!-- JQuery CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Typed JS Effect CDN -->
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>

    <!-- Typed effect control -->
    <script>
        var typed = new Typed('#element', {
            strings: [
                'are a job agency',
                'offer you job',
                'work with IT solutions',
                'are the best agency',
            ],
            typeSpeed: 50,
            backSpeed: 30,
            loop: true,
        });
    </script>

    <!-- Input Mask JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.8/jquery.inputmask.min.js"
        integrity="sha512-efAcjYoYT0sXxQRtxGY37CKYmqsFVOIwMApaEbrxJr4RwqVVGw8o+Lfh/+59TU07+suZn1BWq4fDl5fdgyCNkw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Sweet Alert JS [Frontend Validation Message] -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <!-- Clear the modal form data when user click outside modal or close it -->
    <script>
        $("#frontendModal, #backendModal, #fullstackModal").on("hidden.bs.modal", function () {
            $("#frontendModal form")[0].reset();
            $("#backendModal form")[0].reset();
            $("#fullstackModal form")[0].reset();
        });
    </script>

    <!-- Ajax Spinner -->
    <script>
        JQuery(function ($) {
            $(document).ajaxSend(function () {
                $("#bg-spinner").fadeIn(500);
            });

            $(".btn-send").click(function () {
                $.ajax({
                    type: 'GET',
                    success: function (data) {
                        var d = $.parseJSON(data);
                        alert(d.Test);
                    }
                }).done(function () {
                    setTimeout(function () {
                        $("#bg-spinner").fadeOut(500);
                    }, 700);
                });
            });
        });

        // Close Modal After Send Button is Clicked
        $(".btn-send").click(function () {
            var name = $("#name").val();
            var age = $("#age").val();
            var email = $("#email").val();
            var phone = $("#phone").val();
            var address = $("#address").val();
            var experience = $("#experience").val();
            var skills = $("#skills").val();
            var file = $("#file").val();

            var name2 = $("#name2").val();
            var age2 = $("#age2").val();
            var email2 = $("#email2").val();
            var phone2 = $("#phone2").val();
            var address2 = $("#address2").val();
            var experience2 = $("#experience2").val();
            var skills2 = $("#skills2").val();
            var file2 = $("#file2").val();

            var name3 = $("#name3").val();
            var age3 = $("#age3").val();
            var email3 = $("#email3").val();
            var phone3 = $("#phone3").val();
            var address3 = $("#address3").val();
            var experience3 = $("#experience3").val();
            var skills3 = $("#skills3").val();
            var file3 = $("#file3").val();

            if ((name != "") && (age != "") && (email != "") && (phone != "") &&
                (address != "") && (experience != "") && (skills != "") && (file != "")) {
                $(".close-modal").modal("hide");
            }

            if ((name2 != "") && (age2 != "") && (email2 != "") && (phone2 != "") &&
                (address2 != "") && (experience2 != "") && (skills2 != "") && (file2 != "")) {
                $(".close-modal").modal("hide");
            }

            if ((name3 != "") && (age3 != "") && (email3 != "") && (phone3 != "") &&
                (address3 != "") && (experience3 != "") && (skills3 != "") && (file3 != "")) {
                $(".close-modal").modal("hide");
            }
        });
    </script>

    <!-- Show/Hide Password on Login Page -->
    <script>
        function showPassword() {
            var p = document.getElementById("myPassword");
            if (p.type === "password")
            {
                p.type = "text";
            }
            else {
                p.type = "password";
            }
        }
    </script>

    <!-- Enable / Disable option based on person type -->
    <script>
        $(document).ready(function () {
            $('select[name="person"]').on('change', function() {
                var $this = $(this);
                // If employ: disable only 'Update resume'
                $('select[name="option"]').find('option[value="Update resume"]').prop('disabled', ($this.val() == 'Employee'));
                // If candidate: disable the options below
                $('select[name="option"]').find('option[value="I lost my account"]').prop('disabled', ($this.val() == 'Candidate'));
                $('select[name="option"]').find('option[value="My password does not work"]').prop('disabled', ($this.val() == 'Candidate'));
            });
            $('select[name="person"]').trigger('change');
        });
    </script>

    <!-- Close the sidebar menu when the button is clicked -->
    <script>
        $(document).ready(function() {
            jQuery("#offcanvasRight, .offcanvas-body a").click(function() {
                console.log($(this).attr('href'));
                jQuery('.offcanvas').offcanvas('hide');
            });
        });
    </script>

    <!-- Static JS -->
    <script src="{% static 'js/script.js' %}"></script>
</body>

</html>